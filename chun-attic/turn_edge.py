import sys


datamap = """
########################################################################################################################################################
#..................#...................#.........................#.............................#................................................#......#
#..................#...................#.........................#.............................#................................................#......#
#..................#...................#.........................#.............................#................................................#......#
#..................#...................#.........................#.............................#................................................#......#
#..................#...................#.........................#.............................#................................................#......#
#..................#...................#.........................#...................O.........#................................................#......#
#..................#...................#.........................#.....................O......O........................................................#
#..................#...................#.........................#.....................................................................................#
#............O.....#...................#.........................#.....................................................................................#
#......................................#.........................#...................O.................................................................#
#......................................#.........................#.....................................................................................#
#...................O..................#.........................#................................................O....................................#
#......................................#.........................#.....................................................................................#
#................................................................#.....................................................................................#
#................................................................#..................O..................................................................#
#................................................................#.....................................................................................#
#................................................................#.....................................................................................#
#......................O............................O............#............................................................................O........#
#................................................................#.....................................................................................#
#................................................................#.....................................................................................#
#................................................................#.....................O..........O....................................................#
#...........................O....................................#.....................O...............................................................#
#####............................................................#.....................................................................................#
#...#............................................................#....................................................................O................#
#.................................................O..............#.....................................................................................#
#................................................................#.................................................................O...................#
#................................................................#....................................O................................................#
#................................................................#.....................................................................................#
##################...............................................#.....................................................................................#
#........................................................#.......#......O.....................#############################............................#
#...........................................######################.......O....................#...........................#####........................#
#...........................................#.................................................#...............................#........................#
#...........................................#.................................................#...............................#..................#######
#...........................................#.................................................#...............................#........................#
#...........................................#.................................................#...............................#........................#
#...........................................#.................................................#...............................#........................#
#...........................................#.................................................#...............................#........................#
#...........................................#.................................................................................#........................#
#...........................................#.................................................................................#........................#
#...........................................#.............................O...................O.......O.......................#........................#
#...........................................#.................................................................................#........................#
#...........................................#.................................................................................#........................#
#...........................................#.................................................................................#........................#
#...........................................#.................................................................................#........................#
#...........................................#................O................................................................#........................#
#...........................................#.................................................................................##############...........#
#######.....................................#.................O............................................................................#...........#
#...........................................#........................O.....................................................................#...........#
#...........................................#..............................................................................................#...........#
#...........................................#.........................................O....................................................#...........#
#...........................................#..................................................O......................................##################
#...........................................######...................................................O.................................................#
#................................................#..........................................................................................O..........#
#......................................................................................................................................................#
#......................................................................................................................................................#
#......................................................................................................................................................#
#................................................................................................O.....................................................#
#......................................................................................................................................................#
#......................................................................................................................................................#
############.................................................................O.........................................................................#
#..............................................................................................................................O.......................#
#......................................................................................................................................................#
#....................................................................................................................O.................................#
#......................................................................................................................................................#
#...........................................................................................................................O..........................#
#....................................................................O.................................................................................#
#####..................................................................................................................................................#
#.................................................................................................................................................######
#......................................................................................................................................................#
#......................................................................................................................................................#
#......................................................................................................................................................#
#......................................................................................................................................................#
#......................................................................................................................................................#
#......................................................................................................O...............O...............................#
#......................................................................................................................................................#
#..................................................O...................................................................................................#
#......................................................................................................................................................#
#......................................................................................................................................................#
#......................................................................................................................................................#
#......................................................................................................................................................#
#......................................................................................................................................................#
#.......................................................#..............................................................................................#
#.......................................................#..............................................................................................#
#.......................................................#..............................................................................................#
######################..................................#..............................................................................................#
#.......................................................#..............................................................................................#
#.......................................................#..............................................................................................#
#.......................................................#...........................................#..................................................#
#.......................................................#.................O.........................#..................................................#
#.......................................................#...........................O...............#..................................................#
#.......................................................#...........................................#.................O................................#
#.......................................................#...........................................#..................................................#
#.......................................................#...........................................#..................................................#
#.......................................................#.....................O.....................#..................................................#
#.......................................................#...........................................#..................................................#
#.......................................................#..........................#................#..................................................#
#...............................................#.......#..........................#................#..................................................#
#...............................................#.......#..........................#........O.......#..................................................#
#...............................................#.......#..........................#................#..................................................#
#...............................................#.......#..........................#..............###..................................................#
#...............................................#.......#..........................#.............##O...................................................#
#...............................................#.......#.########################################...............#######################################
#......................................####################............................#.........................#.....................................#
#.........................................................#............................#.........................#.....................................#
#.........................................................#............................#.........................##....................................#
#.........................................................#............................#.........................#.....................................#
#.........................................................#............................#.........................#.....................................#
#.........................................................#............................#.........................#.....................................#
#.........................................................#............................#.........................#.....................................#
######....................................................#............................#.........................#.....................................#
#.........................................................#......................................................#.....................................#
#.........................................................#......................................................#.....................................#
#.........................................................#......................................................#.....................................#
#.........................................................#......................................................#.....................................#
#.........................................................#......................................................#.....................................#
#################.........................................#......................................................#.....................................#
#...............#.........................................#......................................................#.....................................#
#...............#.........................................#............................................................................................#
#.........................................................#............................................................................................#
#.........................................................#............................................................................................#
#.........................................................#............................................................................................#
#.........................................................#............................................................................................#
#.........................................................#............................................................................................#
#.........................................................#............................................................................................#
#####................................#####................#............................................................................................#
#........................................#................#............................................................................................#
#........................................#................#............................O...............................................................#
#........................................##################..............................O.............................................................#
#.........................................#...............#............................................................................................#
#.........................................#...............#............................................................................................#
#.........................................#...............#............................................................................................#
#.........................................#...............#.................................................................................############
#.........................................#...............#.........................O.........................................................#........#
#.........................................#...............#...................................................................................#........#
#.........................................#...............#............................................................................................#
#.........................................#...............#............................................................................................#
#.........................................#...............#............................................................................................#
#.........................................................#............O...............................................................................#
#.........................................................#............................................................................................#
#.........................................................#............................................................................................#
##........................................................#...........#................................................................................#
#.........................................................##..........#...............#................................................................#
#........................................................##...........#..............##...............................................................##
##........................................................##.........###..............##...............................................................#
#..................................................#.....##...........#..............##...............................................................##
##................................................###.....##.........###...........#..##...............................................................#
#..................................................#.....##...........#...........#####...............................................................##
##................................................###.....##.........###...........#..##...............................................................#
#..................................................#.....##...........#...............#...............................................................##
#.#.#.#.#.#.#.#..#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#..#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#..#
########################################################################################################################################################
""".split()

datamap = [list(d) for d in datamap]
print(datamap)

w = len(datamap)
h = len(datamap[0])

# to make accessible with [x][y]
#datamap_transpose = [[datamap[y][x] for y in range(h)] for x in range(w)]
#datamap = datamap_transpose

for y in range(0, h):
    found = None
    started = -1
    finished = -1
    for x in range(0, w):
        print(x, y, datamap[x][y])
        if datamap[x][y] != '#':
            if started == -1:
                started = x
        else:
            if started != -1:
                finished = x
                found = (started, finished, y)
                break
    if found is not None:
        break

vertices = [(started, y), (finished, y)]

print(vertices)

# found initial edge
prev_direction = (1, 0)
new_direction = (0, 1)

while True:
    if vertices[-1] == vertices[0]:
        break
    pos = vertices[-1]
    print(pos)
    while True:
        (nx, ny) = (pos[0] + new_direction[0], pos[1] + new_direction[1])
        cs = (datamap[nx][ny], datamap[nx - 1][ny], datamap[nx - 1][ny - 1], datamap[nx][ny - 1])
        pos = (nx, ny)
        count = sum([c == '#' for c in cs])
        if count == 1 or count == 3:
            break
    vertices.append(pos)
    prev_direction = new_direction
    if count == 1:
        new_direction = (prev_direction[1], -prev_direction[0])
    else:
        new_direction = (-prev_direction[1], prev_direction[0])
    print("d", count, pos, prev_direction, new_direction)
    
print(vertices)        
        


                
    



